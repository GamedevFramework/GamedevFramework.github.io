<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gamedev Framework (gf): gf::SocketSelector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="gf_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gamedev Framework (gf)
   &#160;<span id="projectnumber">0.16.0</span>
   </div>
   <div id="projectbrief">A C++14 framework for 2D games</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegf.html">gf</a></li><li class="navelem"><a class="el" href="classgf_1_1_socket_selector.html">SocketSelector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgf_1_1_socket_selector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">gf::SocketSelector Class Reference<div class="ingroups"><a class="el" href="group__net.html">Network</a> &raquo; <a class="el" href="group__net__sockets.html">Network sockets</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A socket selector.  
 <a href="classgf_1_1_socket_selector.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_socket_selector_8h_source.html">gf/SocketSelector.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for gf::SocketSelector:</div>
<div class="dyncontent">
<div class="center"><img src="classgf_1_1_socket_selector__inherit__graph.png" border="0" usemap="#gf_1_1_socket_selector_inherit__map" alt="Inheritance graph"/></div>
<map name="gf_1_1_socket_selector_inherit__map" id="gf_1_1_socket_selector_inherit__map">
<area shape="rect" id="node2" href="classgf_1_1_socket_guard.html" title="A guard to handle library initialization. " alt="" coords="12,5,129,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7a8de0248a71991fa3daef7e8c5aedab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgf_1_1_socket_selector.html#a7a8de0248a71991fa3daef7e8c5aedab">SocketSelector</a> ()</td></tr>
<tr class="memdesc:a7a8de0248a71991fa3daef7e8c5aedab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a7a8de0248a71991fa3daef7e8c5aedab">More...</a><br /></td></tr>
<tr class="separator:a7a8de0248a71991fa3daef7e8c5aedab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd92e6b5a77d0ecf96f562b89d93e9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgf_1_1_socket_selector.html#abfd92e6b5a77d0ecf96f562b89d93e9b">addSocket</a> (<a class="el" href="classgf_1_1_socket.html">Socket</a> &amp;socket)</td></tr>
<tr class="memdesc:abfd92e6b5a77d0ecf96f562b89d93e9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a socket to the selector.  <a href="#abfd92e6b5a77d0ecf96f562b89d93e9b">More...</a><br /></td></tr>
<tr class="separator:abfd92e6b5a77d0ecf96f562b89d93e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49b5f467e14d1a677d3a5e7aeca2e6f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgf_1_1_socket_selector.html#a49b5f467e14d1a677d3a5e7aeca2e6f7">removeSocket</a> (<a class="el" href="classgf_1_1_socket.html">Socket</a> &amp;socket)</td></tr>
<tr class="memdesc:a49b5f467e14d1a677d3a5e7aeca2e6f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a socket from the selector.  <a href="#a49b5f467e14d1a677d3a5e7aeca2e6f7">More...</a><br /></td></tr>
<tr class="separator:a49b5f467e14d1a677d3a5e7aeca2e6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad85e041ebd1ab1f13d629046295e60d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgf_1_1_socket_selector.html#ad85e041ebd1ab1f13d629046295e60d5">clear</a> ()</td></tr>
<tr class="memdesc:ad85e041ebd1ab1f13d629046295e60d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all the sockets in the selector.  <a href="#ad85e041ebd1ab1f13d629046295e60d5">More...</a><br /></td></tr>
<tr class="separator:ad85e041ebd1ab1f13d629046295e60d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69c21bf26524e22b6624b91b7c9ef28f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__net__sockets.html#ga92de21c1e795fbc051421f3e92f15758">SocketSelectorStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgf_1_1_socket_selector.html#a69c21bf26524e22b6624b91b7c9ef28f">wait</a> (<a class="el" href="classgf_1_1_time.html">Time</a> duration=seconds(-1))</td></tr>
<tr class="memdesc:a69c21bf26524e22b6624b91b7c9ef28f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for an event of the set of sockets.  <a href="#a69c21bf26524e22b6624b91b7c9ef28f">More...</a><br /></td></tr>
<tr class="separator:a69c21bf26524e22b6624b91b7c9ef28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac77589ccf7fde25e9fef69ed340593ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgf_1_1_socket_selector.html#ac77589ccf7fde25e9fef69ed340593ab">isReady</a> (<a class="el" href="classgf_1_1_socket.html">Socket</a> &amp;socket)</td></tr>
<tr class="memdesc:ac77589ccf7fde25e9fef69ed340593ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell if the provided socket is ready.  <a href="#ac77589ccf7fde25e9fef69ed340593ab">More...</a><br /></td></tr>
<tr class="separator:ac77589ccf7fde25e9fef69ed340593ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A socket selector. </p>
<div class="fragment"><div class="line">  <a class="code" href="classgf_1_1_tcp_listener.html">gf::TcpListener</a> listener(service);</div><div class="line"></div><div class="line">  <a class="code" href="classgf_1_1_socket_selector.html">gf::SocketSelector</a> selector;</div><div class="line">  selector.<a class="code" href="classgf_1_1_socket_selector.html#abfd92e6b5a77d0ecf96f562b89d93e9b">addSocket</a>(listener);</div><div class="line"></div><div class="line">  std::vector&lt;gf::TcpSocket&gt; sockets;</div><div class="line"></div><div class="line">  <span class="keywordflow">for</span> (;;) {</div><div class="line">    <span class="keywordflow">if</span> (selector.<a class="code" href="classgf_1_1_socket_selector.html#a69c21bf26524e22b6624b91b7c9ef28f">wait</a>() == <a class="code" href="group__net__sockets.html#gga92de21c1e795fbc051421f3e92f15758ac6a13dc05bf6d0f83bd12bbfb7ccd937">gf::SocketSelectorStatus::Event</a>) {</div><div class="line">      <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; socket : sockets) {</div><div class="line">        <span class="keywordflow">if</span> (selector.<a class="code" href="classgf_1_1_socket_selector.html#ac77589ccf7fde25e9fef69ed340593ab">isReady</a>(socket)) {</div><div class="line">          <span class="comment">// read something on the socket</span></div><div class="line">          <span class="comment">// ...</span></div><div class="line">        }</div><div class="line">      }</div><div class="line"></div><div class="line">      <span class="keywordflow">if</span> (selector.<a class="code" href="classgf_1_1_socket_selector.html#ac77589ccf7fde25e9fef69ed340593ab">isReady</a>(listener)) {</div><div class="line">        <span class="comment">// the listener is ready, accept a new connection</span></div><div class="line">        <a class="code" href="classgf_1_1_tcp_socket.html">gf::TcpSocket</a> socket = listener.accept();</div><div class="line">        sockets.push_back(std::move(socket));</div><div class="line">        selector.<a class="code" href="classgf_1_1_socket_selector.html#abfd92e6b5a77d0ecf96f562b89d93e9b">addSocket</a>(sockets.back());</div><div class="line">      }</div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7a8de0248a71991fa3daef7e8c5aedab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a8de0248a71991fa3daef7e8c5aedab">&#9670;&nbsp;</a></span>SocketSelector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gf::SocketSelector::SocketSelector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abfd92e6b5a77d0ecf96f562b89d93e9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfd92e6b5a77d0ecf96f562b89d93e9b">&#9670;&nbsp;</a></span>addSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gf::SocketSelector::addSocket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgf_1_1_socket.html">Socket</a> &amp;&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a socket to the selector. </p>

</div>
</div>
<a id="ad85e041ebd1ab1f13d629046295e60d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad85e041ebd1ab1f13d629046295e60d5">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gf::SocketSelector::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear all the sockets in the selector. </p>

</div>
</div>
<a id="ac77589ccf7fde25e9fef69ed340593ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac77589ccf7fde25e9fef69ed340593ab">&#9670;&nbsp;</a></span>isReady()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gf::SocketSelector::isReady </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgf_1_1_socket.html">Socket</a> &amp;&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tell if the provided socket is ready. </p>

</div>
</div>
<a id="a49b5f467e14d1a677d3a5e7aeca2e6f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49b5f467e14d1a677d3a5e7aeca2e6f7">&#9670;&nbsp;</a></span>removeSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gf::SocketSelector::removeSocket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgf_1_1_socket.html">Socket</a> &amp;&#160;</td>
          <td class="paramname"><em>socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a socket from the selector. </p>

</div>
</div>
<a id="a69c21bf26524e22b6624b91b7c9ef28f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69c21bf26524e22b6624b91b7c9ef28f">&#9670;&nbsp;</a></span>wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__net__sockets.html#ga92de21c1e795fbc051421f3e92f15758">SocketSelectorStatus</a> gf::SocketSelector::wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgf_1_1_time.html">Time</a>&#160;</td>
          <td class="paramname"><em>duration</em> = <code>seconds(-1)</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for an event of the set of sockets. </p>
<p>A duration for a timeout can be provided. In this case, if the duration is negative, it indicates an infinite timeout. If the duration is zero, the call will return immediately. Otherwise, the timeout can occur after the provided duration if no event occurred.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration</td><td>The duration for the timeout </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
